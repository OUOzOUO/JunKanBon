// 1. 建立房間邏輯
function createRoom() {
    const roomId = Math.floor(1000 + Math.random() * 9000); // 產生隨機4位數
    firebase.database().ref('rooms/' + roomId).set({
        player1: { choice: null, status: 'waiting' },
        player2: { choice: null, status: 'waiting' },
        winner: null
    });
    return roomId;
}

// 2. 出拳邏輯 (確保隱私)
function makeChoice(roomId, playerSlot, move) {
    // playerSlot 為 'player1' 或 'player2'
    firebase.database().ref(`rooms/${roomId}/${playerSlot}`).update({
        choice: move,
        status: 'ready'
    });
}

// 3. 判定勝負邏輯
// 當監聽器發現兩邊 status 皆為 'ready' 時，前端才顯示雙方 choice 並計算結果